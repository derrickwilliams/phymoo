{"version":3,"sources":["/Users/derwilliams/workspace/me/projects/phymoo/www/lib/localforage/dist/localforage.nopromises.js"],"names":[],"mappings":"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","file":"localforage.nopromises-compiled.js","sourcesContent":["/*!\n    localForage -- Offline Storage, Improved\n    Version 1.2.3\n    https://mozilla.github.io/localForage\n    (c) 2013-2015 Mozilla, Apache License 2.0\n*/\n(function() {\n    'use strict';\n\n    // Sadly, the best way to save binary data in WebSQL/localStorage is serializing\n    // it to Base64, so this is how we store it to prevent very strange errors with less\n    // verbose ways of binary <-> string data storage.\n    var BASE_CHARS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n    var SERIALIZED_MARKER = '__lfsc__:';\n    var SERIALIZED_MARKER_LENGTH = SERIALIZED_MARKER.length;\n\n    // OMG the serializations!\n    var TYPE_ARRAYBUFFER = 'arbf';\n    var TYPE_BLOB = 'blob';\n    var TYPE_INT8ARRAY = 'si08';\n    var TYPE_UINT8ARRAY = 'ui08';\n    var TYPE_UINT8CLAMPEDARRAY = 'uic8';\n    var TYPE_INT16ARRAY = 'si16';\n    var TYPE_INT32ARRAY = 'si32';\n    var TYPE_UINT16ARRAY = 'ur16';\n    var TYPE_UINT32ARRAY = 'ui32';\n    var TYPE_FLOAT32ARRAY = 'fl32';\n    var TYPE_FLOAT64ARRAY = 'fl64';\n    var TYPE_SERIALIZED_MARKER_LENGTH = SERIALIZED_MARKER_LENGTH +\n                                        TYPE_ARRAYBUFFER.length;\n\n    // Serialize a value, afterwards executing a callback (which usually\n    // instructs the `setItem()` callback/promise to be executed). This is how\n    // we store binary data with localStorage.\n    function serialize(value, callback) {\n        var valueString = '';\n        if (value) {\n            valueString = value.toString();\n        }\n\n        // Cannot use `value instanceof ArrayBuffer` or such here, as these\n        // checks fail when running the tests using casper.js...\n        //\n        // TODO: See why those tests fail and use a better solution.\n        if (value && (value.toString() === '[object ArrayBuffer]' ||\n                      value.buffer &&\n                      value.buffer.toString() === '[object ArrayBuffer]')) {\n            // Convert binary arrays to a string and prefix the string with\n            // a special marker.\n            var buffer;\n            var marker = SERIALIZED_MARKER;\n\n            if (value instanceof ArrayBuffer) {\n                buffer = value;\n                marker += TYPE_ARRAYBUFFER;\n            } else {\n                buffer = value.buffer;\n\n                if (valueString === '[object Int8Array]') {\n                    marker += TYPE_INT8ARRAY;\n                } else if (valueString === '[object Uint8Array]') {\n                    marker += TYPE_UINT8ARRAY;\n                } else if (valueString === '[object Uint8ClampedArray]') {\n                    marker += TYPE_UINT8CLAMPEDARRAY;\n                } else if (valueString === '[object Int16Array]') {\n                    marker += TYPE_INT16ARRAY;\n                } else if (valueString === '[object Uint16Array]') {\n                    marker += TYPE_UINT16ARRAY;\n                } else if (valueString === '[object Int32Array]') {\n                    marker += TYPE_INT32ARRAY;\n                } else if (valueString === '[object Uint32Array]') {\n                    marker += TYPE_UINT32ARRAY;\n                } else if (valueString === '[object Float32Array]') {\n                    marker += TYPE_FLOAT32ARRAY;\n                } else if (valueString === '[object Float64Array]') {\n                    marker += TYPE_FLOAT64ARRAY;\n                } else {\n                    callback(new Error('Failed to get type for BinaryArray'));\n                }\n            }\n\n            callback(marker + bufferToString(buffer));\n        } else if (valueString === '[object Blob]') {\n            // Conver the blob to a binaryArray and then to a string.\n            var fileReader = new FileReader();\n\n            fileReader.onload = function() {\n                var str = bufferToString(this.result);\n\n                callback(SERIALIZED_MARKER + TYPE_BLOB + str);\n            };\n\n            fileReader.readAsArrayBuffer(value);\n        } else {\n            try {\n                callback(JSON.stringify(value));\n            } catch (e) {\n                window.console.error(\"Couldn't convert value into a JSON \" +\n                                     'string: ', value);\n\n                callback(null, e);\n            }\n        }\n    }\n\n    // Deserialize data we've inserted into a value column/field. We place\n    // special markers into our strings to mark them as encoded; this isn't\n    // as nice as a meta field, but it's the only sane thing we can do whilst\n    // keeping localStorage support intact.\n    //\n    // Oftentimes this will just deserialize JSON content, but if we have a\n    // special marker (SERIALIZED_MARKER, defined above), we will extract\n    // some kind of arraybuffer/binary data/typed array out of the string.\n    function deserialize(value) {\n        // If we haven't marked this string as being specially serialized (i.e.\n        // something other than serialized JSON), we can just return it and be\n        // done with it.\n        if (value.substring(0,\n            SERIALIZED_MARKER_LENGTH) !== SERIALIZED_MARKER) {\n            return JSON.parse(value);\n        }\n\n        // The following code deals with deserializing some kind of Blob or\n        // TypedArray. First we separate out the type of data we're dealing\n        // with from the data itself.\n        var serializedString = value.substring(TYPE_SERIALIZED_MARKER_LENGTH);\n        var type = value.substring(SERIALIZED_MARKER_LENGTH,\n                                   TYPE_SERIALIZED_MARKER_LENGTH);\n\n        var buffer = stringToBuffer(serializedString);\n\n        // Return the right type based on the code/type set during\n        // serialization.\n        switch (type) {\n            case TYPE_ARRAYBUFFER:\n                return buffer;\n            case TYPE_BLOB:\n                return new Blob([buffer]);\n            case TYPE_INT8ARRAY:\n                return new Int8Array(buffer);\n            case TYPE_UINT8ARRAY:\n                return new Uint8Array(buffer);\n            case TYPE_UINT8CLAMPEDARRAY:\n                return new Uint8ClampedArray(buffer);\n            case TYPE_INT16ARRAY:\n                return new Int16Array(buffer);\n            case TYPE_UINT16ARRAY:\n                return new Uint16Array(buffer);\n            case TYPE_INT32ARRAY:\n                return new Int32Array(buffer);\n            case TYPE_UINT32ARRAY:\n                return new Uint32Array(buffer);\n            case TYPE_FLOAT32ARRAY:\n                return new Float32Array(buffer);\n            case TYPE_FLOAT64ARRAY:\n                return new Float64Array(buffer);\n            default:\n                throw new Error('Unkown type: ' + type);\n        }\n    }\n\n    function stringToBuffer(serializedString) {\n        // Fill the string into a ArrayBuffer.\n        var bufferLength = serializedString.length * 0.75;\n        var len = serializedString.length;\n        var i;\n        var p = 0;\n        var encoded1, encoded2, encoded3, encoded4;\n\n        if (serializedString[serializedString.length - 1] === '=') {\n            bufferLength--;\n            if (serializedString[serializedString.length - 2] === '=') {\n                bufferLength--;\n            }\n        }\n\n        var buffer = new ArrayBuffer(bufferLength);\n        var bytes = new Uint8Array(buffer);\n\n        for (i = 0; i < len; i+=4) {\n            encoded1 = BASE_CHARS.indexOf(serializedString[i]);\n            encoded2 = BASE_CHARS.indexOf(serializedString[i+1]);\n            encoded3 = BASE_CHARS.indexOf(serializedString[i+2]);\n            encoded4 = BASE_CHARS.indexOf(serializedString[i+3]);\n\n            /*jslint bitwise: true */\n            bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n            bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n            bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n        }\n        return buffer;\n    }\n\n    // Converts a buffer to a string to store, serialized, in the backend\n    // storage library.\n    function bufferToString(buffer) {\n        // base64-arraybuffer\n        var bytes = new Uint8Array(buffer);\n        var base64String = '';\n        var i;\n\n        for (i = 0; i < bytes.length; i += 3) {\n            /*jslint bitwise: true */\n            base64String += BASE_CHARS[bytes[i] >> 2];\n            base64String += BASE_CHARS[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n            base64String += BASE_CHARS[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n            base64String += BASE_CHARS[bytes[i + 2] & 63];\n        }\n\n        if ((bytes.length % 3) === 2) {\n            base64String = base64String.substring(0, base64String.length - 1) + '=';\n        } else if (bytes.length % 3 === 1) {\n            base64String = base64String.substring(0, base64String.length - 2) + '==';\n        }\n\n        return base64String;\n    }\n\n    var localforageSerializer = {\n        serialize: serialize,\n        deserialize: deserialize,\n        stringToBuffer: stringToBuffer,\n        bufferToString: bufferToString\n    };\n\n    if (typeof module !== 'undefined' && module.exports && typeof require !== 'undefined') {\n        module.exports = localforageSerializer;\n    } else if (typeof define === 'function' && define.amd) {\n        define('localforageSerializer', function() {\n            return localforageSerializer;\n        });\n    } else {\n        this.localforageSerializer = localforageSerializer;\n    }\n}).call(window);\n// Some code originally from async_storage.js in\n// [Gaia](https://github.com/mozilla-b2g/gaia).\n(function() {\n    'use strict';\n\n    // Originally found in https://github.com/mozilla-b2g/gaia/blob/e8f624e4cc9ea945727278039b3bc9bcb9f8667a/shared/js/async_storage.js\n\n    // Promises!\n    var Promise = (typeof module !== 'undefined' && module.exports && typeof require !== 'undefined') ?\n                  require('promise') : this.Promise;\n\n    // Initialize IndexedDB; fall back to vendor-prefixed versions if needed.\n    var indexedDB = indexedDB || this.indexedDB || this.webkitIndexedDB ||\n                    this.mozIndexedDB || this.OIndexedDB ||\n                    this.msIndexedDB;\n\n    // If IndexedDB isn't available, we get outta here!\n    if (!indexedDB) {\n        return;\n    }\n\n    // Open the IndexedDB database (automatically creates one if one didn't\n    // previously exist), using any options set in the config.\n    function _initStorage(options) {\n        var self = this;\n        var dbInfo = {\n            db: null\n        };\n\n        if (options) {\n            for (var i in options) {\n                dbInfo[i] = options[i];\n            }\n        }\n\n        return new Promise(function(resolve, reject) {\n            var openreq = indexedDB.open(dbInfo.name, dbInfo.version);\n            openreq.onerror = function() {\n                reject(openreq.error);\n            };\n            openreq.onupgradeneeded = function() {\n                // First time setup: create an empty object store\n                openreq.result.createObjectStore(dbInfo.storeName);\n            };\n            openreq.onsuccess = function() {\n                dbInfo.db = openreq.result;\n                self._dbInfo = dbInfo;\n                resolve();\n            };\n        });\n    }\n\n    function getItem(key, callback) {\n        var self = this;\n\n        // Cast the key to a string, as that's all we can set as a key.\n        if (typeof key !== 'string') {\n            window.console.warn(key +\n                                ' used as a key, but it is not a string.');\n            key = String(key);\n        }\n\n        var promise = new Promise(function(resolve, reject) {\n            self.ready().then(function() {\n                var dbInfo = self._dbInfo;\n                var store = dbInfo.db.transaction(dbInfo.storeName, 'readonly')\n                    .objectStore(dbInfo.storeName);\n                var req = store.get(key);\n\n                req.onsuccess = function() {\n                    var value = req.result;\n                    if (value === undefined) {\n                        value = null;\n                    }\n\n                    resolve(value);\n                };\n\n                req.onerror = function() {\n                    reject(req.error);\n                };\n            })[\"catch\"](reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    // Iterate over all items stored in database.\n    function iterate(iterator, callback) {\n        var self = this;\n\n        var promise = new Promise(function(resolve, reject) {\n            self.ready().then(function() {\n                var dbInfo = self._dbInfo;\n                var store = dbInfo.db.transaction(dbInfo.storeName, 'readonly')\n                                     .objectStore(dbInfo.storeName);\n\n                var req = store.openCursor();\n                var iterationNumber = 1;\n\n                req.onsuccess = function() {\n                    var cursor = req.result;\n\n                    if (cursor) {\n                        var result = iterator(cursor.value, cursor.key, iterationNumber++);\n\n                        if (result !== void(0)) {\n                            resolve(result);\n                        } else {\n                            cursor[\"continue\"]();\n                        }\n                    } else {\n                        resolve();\n                    }\n                };\n\n                req.onerror = function() {\n                    reject(req.error);\n                };\n            })[\"catch\"](reject);\n        });\n\n        executeCallback(promise, callback);\n\n        return promise;\n    }\n\n    function setItem(key, value, callback) {\n        var self = this;\n\n        // Cast the key to a string, as that's all we can set as a key.\n        if (typeof key !== 'string') {\n            window.console.warn(key +\n                                ' used as a key, but it is not a string.');\n            key = String(key);\n        }\n\n        var promise = new Promise(function(resolve, reject) {\n            self.ready().then(function() {\n                var dbInfo = self._dbInfo;\n                var transaction = dbInfo.db.transaction(dbInfo.storeName, 'readwrite');\n                var store = transaction.objectStore(dbInfo.storeName);\n\n                // The reason we don't _save_ null is because IE 10 does\n                // not support saving the `null` type in IndexedDB. How\n                // ironic, given the bug below!\n                // See: https://github.com/mozilla/localForage/issues/161\n                if (value === null) {\n                    value = undefined;\n                }\n\n                var req = store.put(value, key);\n                transaction.oncomplete = function() {\n                    // Cast to undefined so the value passed to\n                    // callback/promise is the same as what one would get out\n                    // of `getItem()` later. This leads to some weirdness\n                    // (setItem('foo', undefined) will return `null`), but\n                    // it's not my fault localStorage is our baseline and that\n                    // it's weird.\n                    if (value === undefined) {\n                        value = null;\n                    }\n\n                    resolve(value);\n                };\n                transaction.onabort = transaction.onerror = function() {\n                    var err = req.error ? req.error : req.transaction.error;\n                    reject(err);\n                };\n            })[\"catch\"](reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    function removeItem(key, callback) {\n        var self = this;\n\n        // Cast the key to a string, as that's all we can set as a key.\n        if (typeof key !== 'string') {\n            window.console.warn(key +\n                                ' used as a key, but it is not a string.');\n            key = String(key);\n        }\n\n        var promise = new Promise(function(resolve, reject) {\n            self.ready().then(function() {\n                var dbInfo = self._dbInfo;\n                var transaction = dbInfo.db.transaction(dbInfo.storeName, 'readwrite');\n                var store = transaction.objectStore(dbInfo.storeName);\n\n                // We use a Grunt task to make this safe for IE and some\n                // versions of Android (including those used by Cordova).\n                // Normally IE won't like `.delete()` and will insist on\n                // using `['delete']()`, but we have a build step that\n                // fixes this for us now.\n                var req = store[\"delete\"](key);\n                transaction.oncomplete = function() {\n                    resolve();\n                };\n\n                transaction.onerror = function() {\n                    reject(req.error);\n                };\n\n                // The request will be also be aborted if we've exceeded our storage\n                // space.\n                transaction.onabort = function() {\n                    var err = req.error ? req.error : req.transaction.error;\n                    reject(err);\n                };\n            })[\"catch\"](reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    function clear(callback) {\n        var self = this;\n\n        var promise = new Promise(function(resolve, reject) {\n            self.ready().then(function() {\n                var dbInfo = self._dbInfo;\n                var transaction = dbInfo.db.transaction(dbInfo.storeName, 'readwrite');\n                var store = transaction.objectStore(dbInfo.storeName);\n                var req = store.clear();\n\n                transaction.oncomplete = function() {\n                    resolve();\n                };\n\n                transaction.onabort = transaction.onerror = function() {\n                    var err = req.error ? req.error : req.transaction.error;\n                    reject(err);\n                };\n            })[\"catch\"](reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    function length(callback) {\n        var self = this;\n\n        var promise = new Promise(function(resolve, reject) {\n            self.ready().then(function() {\n                var dbInfo = self._dbInfo;\n                var store = dbInfo.db.transaction(dbInfo.storeName, 'readonly')\n                              .objectStore(dbInfo.storeName);\n                var req = store.count();\n\n                req.onsuccess = function() {\n                    resolve(req.result);\n                };\n\n                req.onerror = function() {\n                    reject(req.error);\n                };\n            })[\"catch\"](reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    function key(n, callback) {\n        var self = this;\n\n        var promise = new Promise(function(resolve, reject) {\n            if (n < 0) {\n                resolve(null);\n\n                return;\n            }\n\n            self.ready().then(function() {\n                var dbInfo = self._dbInfo;\n                var store = dbInfo.db.transaction(dbInfo.storeName, 'readonly')\n                              .objectStore(dbInfo.storeName);\n\n                var advanced = false;\n                var req = store.openCursor();\n                req.onsuccess = function() {\n                    var cursor = req.result;\n                    if (!cursor) {\n                        // this means there weren't enough keys\n                        resolve(null);\n\n                        return;\n                    }\n\n                    if (n === 0) {\n                        // We have the first key, return it if that's what they\n                        // wanted.\n                        resolve(cursor.key);\n                    } else {\n                        if (!advanced) {\n                            // Otherwise, ask the cursor to skip ahead n\n                            // records.\n                            advanced = true;\n                            cursor.advance(n);\n                        } else {\n                            // When we get here, we've got the nth key.\n                            resolve(cursor.key);\n                        }\n                    }\n                };\n\n                req.onerror = function() {\n                    reject(req.error);\n                };\n            })[\"catch\"](reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    function keys(callback) {\n        var self = this;\n\n        var promise = new Promise(function(resolve, reject) {\n            self.ready().then(function() {\n                var dbInfo = self._dbInfo;\n                var store = dbInfo.db.transaction(dbInfo.storeName, 'readonly')\n                              .objectStore(dbInfo.storeName);\n\n                var req = store.openCursor();\n                var keys = [];\n\n                req.onsuccess = function() {\n                    var cursor = req.result;\n\n                    if (!cursor) {\n                        resolve(keys);\n                        return;\n                    }\n\n                    keys.push(cursor.key);\n                    cursor[\"continue\"]();\n                };\n\n                req.onerror = function() {\n                    reject(req.error);\n                };\n            })[\"catch\"](reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    function executeCallback(promise, callback) {\n        if (callback) {\n            promise.then(function(result) {\n                callback(null, result);\n            }, function(error) {\n                callback(error);\n            });\n        }\n    }\n\n    var asyncStorage = {\n        _driver: 'asyncStorage',\n        _initStorage: _initStorage,\n        iterate: iterate,\n        getItem: getItem,\n        setItem: setItem,\n        removeItem: removeItem,\n        clear: clear,\n        length: length,\n        key: key,\n        keys: keys\n    };\n\n    if (typeof module !== 'undefined' && module.exports && typeof require !== 'undefined') {\n        module.exports = asyncStorage;\n    } else if (typeof define === 'function' && define.amd) {\n        define('asyncStorage', function() {\n            return asyncStorage;\n        });\n    } else {\n        this.asyncStorage = asyncStorage;\n    }\n}).call(window);\n// If IndexedDB isn't available, we'll fall back to localStorage.\n// Note that this will have considerable performance and storage\n// side-effects (all data will be serialized on save and only data that\n// can be converted to a string via `JSON.stringify()` will be saved).\n(function() {\n    'use strict';\n\n    // Promises!\n    var Promise = (typeof module !== 'undefined' && module.exports && typeof require !== 'undefined') ?\n                  require('promise') : this.Promise;\n\n    var globalObject = this;\n    var serializer = null;\n    var localStorage = null;\n\n    // If the app is running inside a Google Chrome packaged webapp, or some\n    // other context where localStorage isn't available, we don't use\n    // localStorage. This feature detection is preferred over the old\n    // `if (window.chrome && window.chrome.runtime)` code.\n    // See: https://github.com/mozilla/localForage/issues/68\n    try {\n        // If localStorage isn't available, we get outta here!\n        // This should be inside a try catch\n        if (!this.localStorage || !('setItem' in this.localStorage)) {\n            return;\n        }\n        // Initialize localStorage and create a variable to use throughout\n        // the code.\n        localStorage = this.localStorage;\n    } catch (e) {\n        return;\n    }\n\n    var ModuleType = {\n        DEFINE: 1,\n        EXPORT: 2,\n        WINDOW: 3\n    };\n\n    // Attaching to window (i.e. no module loader) is the assumed,\n    // simple default.\n    var moduleType = ModuleType.WINDOW;\n\n    // Find out what kind of module setup we have; if none, we'll just attach\n    // localForage to the main window.\n    if (typeof module !== 'undefined' && module.exports && typeof require !== 'undefined') {\n        moduleType = ModuleType.EXPORT;\n    } else if (typeof define === 'function' && define.amd) {\n        moduleType = ModuleType.DEFINE;\n    }\n\n    // Config the localStorage backend, using options set in the config.\n    function _initStorage(options) {\n        var self = this;\n        var dbInfo = {};\n        if (options) {\n            for (var i in options) {\n                dbInfo[i] = options[i];\n            }\n        }\n\n        dbInfo.keyPrefix = dbInfo.name + '/';\n\n        self._dbInfo = dbInfo;\n\n        var serializerPromise = new Promise(function(resolve/*, reject*/) {\n            // We allow localForage to be declared as a module or as a\n            // library available without AMD/require.js.\n            if (moduleType === ModuleType.DEFINE) {\n                require(['localforageSerializer'], resolve);\n            } else if (moduleType === ModuleType.EXPORT) {\n                // Making it browserify friendly\n                resolve(require('./../utils/serializer'));\n            } else {\n                resolve(globalObject.localforageSerializer);\n            }\n        });\n\n        return serializerPromise.then(function(lib) {\n            serializer = lib;\n            return Promise.resolve();\n        });\n    }\n\n    // Remove all keys from the datastore, effectively destroying all data in\n    // the app's key/value store!\n    function clear(callback) {\n        var self = this;\n        var promise = self.ready().then(function() {\n            var keyPrefix = self._dbInfo.keyPrefix;\n\n            for (var i = localStorage.length - 1; i >= 0; i--) {\n                var key = localStorage.key(i);\n\n                if (key.indexOf(keyPrefix) === 0) {\n                    localStorage.removeItem(key);\n                }\n            }\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    // Retrieve an item from the store. Unlike the original async_storage\n    // library in Gaia, we don't modify return values at all. If a key's value\n    // is `undefined`, we pass that value to the callback function.\n    function getItem(key, callback) {\n        var self = this;\n\n        // Cast the key to a string, as that's all we can set as a key.\n        if (typeof key !== 'string') {\n            window.console.warn(key +\n                                ' used as a key, but it is not a string.');\n            key = String(key);\n        }\n\n        var promise = self.ready().then(function() {\n            var dbInfo = self._dbInfo;\n            var result = localStorage.getItem(dbInfo.keyPrefix + key);\n\n            // If a result was found, parse it from the serialized\n            // string into a JS object. If result isn't truthy, the key\n            // is likely undefined and we'll pass it straight to the\n            // callback.\n            if (result) {\n                result = serializer.deserialize(result);\n            }\n\n            return result;\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    // Iterate over all items in the store.\n    function iterate(iterator, callback) {\n        var self = this;\n\n        var promise = self.ready().then(function() {\n            var keyPrefix = self._dbInfo.keyPrefix;\n            var keyPrefixLength = keyPrefix.length;\n            var length = localStorage.length;\n\n            for (var i = 0; i < length; i++) {\n                var key = localStorage.key(i);\n                var value = localStorage.getItem(key);\n\n                // If a result was found, parse it from the serialized\n                // string into a JS object. If result isn't truthy, the\n                // key is likely undefined and we'll pass it straight\n                // to the iterator.\n                if (value) {\n                    value = serializer.deserialize(value);\n                }\n\n                value = iterator(value, key.substring(keyPrefixLength), i + 1);\n\n                if (value !== void(0)) {\n                    return value;\n                }\n            }\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    // Same as localStorage's key() method, except takes a callback.\n    function key(n, callback) {\n        var self = this;\n        var promise = self.ready().then(function() {\n            var dbInfo = self._dbInfo;\n            var result;\n            try {\n                result = localStorage.key(n);\n            } catch (error) {\n                result = null;\n            }\n\n            // Remove the prefix from the key, if a key is found.\n            if (result) {\n                result = result.substring(dbInfo.keyPrefix.length);\n            }\n\n            return result;\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    function keys(callback) {\n        var self = this;\n        var promise = self.ready().then(function() {\n            var dbInfo = self._dbInfo;\n            var length = localStorage.length;\n            var keys = [];\n\n            for (var i = 0; i < length; i++) {\n                if (localStorage.key(i).indexOf(dbInfo.keyPrefix) === 0) {\n                    keys.push(localStorage.key(i).substring(dbInfo.keyPrefix.length));\n                }\n            }\n\n            return keys;\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    // Supply the number of keys in the datastore to the callback function.\n    function length(callback) {\n        var self = this;\n        var promise = self.keys().then(function(keys) {\n            return keys.length;\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    // Remove an item from the store, nice and simple.\n    function removeItem(key, callback) {\n        var self = this;\n\n        // Cast the key to a string, as that's all we can set as a key.\n        if (typeof key !== 'string') {\n            window.console.warn(key +\n                                ' used as a key, but it is not a string.');\n            key = String(key);\n        }\n\n        var promise = self.ready().then(function() {\n            var dbInfo = self._dbInfo;\n            localStorage.removeItem(dbInfo.keyPrefix + key);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    // Set a key's value and run an optional callback once the value is set.\n    // Unlike Gaia's implementation, the callback function is passed the value,\n    // in case you want to operate on that value only after you're sure it\n    // saved, or something like that.\n    function setItem(key, value, callback) {\n        var self = this;\n\n        // Cast the key to a string, as that's all we can set as a key.\n        if (typeof key !== 'string') {\n            window.console.warn(key +\n                                ' used as a key, but it is not a string.');\n            key = String(key);\n        }\n\n        var promise = self.ready().then(function() {\n            // Convert undefined values to null.\n            // https://github.com/mozilla/localForage/pull/42\n            if (value === undefined) {\n                value = null;\n            }\n\n            // Save the original value to pass to the callback.\n            var originalValue = value;\n\n            return new Promise(function(resolve, reject) {\n                serializer.serialize(value, function(value, error) {\n                    if (error) {\n                        reject(error);\n                    } else {\n                        try {\n                            var dbInfo = self._dbInfo;\n                            localStorage.setItem(dbInfo.keyPrefix + key, value);\n                            resolve(originalValue);\n                        } catch (e) {\n                            // localStorage capacity exceeded.\n                            // TODO: Make this a specific error/event.\n                            if (e.name === 'QuotaExceededError' ||\n                                e.name === 'NS_ERROR_DOM_QUOTA_REACHED') {\n                                reject(e);\n                            }\n                            reject(e);\n                        }\n                    }\n                });\n            });\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    function executeCallback(promise, callback) {\n        if (callback) {\n            promise.then(function(result) {\n                callback(null, result);\n            }, function(error) {\n                callback(error);\n            });\n        }\n    }\n\n    var localStorageWrapper = {\n        _driver: 'localStorageWrapper',\n        _initStorage: _initStorage,\n        // Default API, from Gaia/localStorage.\n        iterate: iterate,\n        getItem: getItem,\n        setItem: setItem,\n        removeItem: removeItem,\n        clear: clear,\n        length: length,\n        key: key,\n        keys: keys\n    };\n\n    if (moduleType === ModuleType.EXPORT) {\n        module.exports = localStorageWrapper;\n    } else if (moduleType === ModuleType.DEFINE) {\n        define('localStorageWrapper', function() {\n            return localStorageWrapper;\n        });\n    } else {\n        this.localStorageWrapper = localStorageWrapper;\n    }\n}).call(window);\n/*\n * Includes code from:\n *\n * base64-arraybuffer\n * https://github.com/niklasvh/base64-arraybuffer\n *\n * Copyright (c) 2012 Niklas von Hertzen\n * Licensed under the MIT license.\n */\n(function() {\n    'use strict';\n\n    // Promises!\n    var Promise = (typeof module !== 'undefined' && module.exports && typeof require !== 'undefined') ?\n                  require('promise') : this.Promise;\n\n    var globalObject = this;\n    var serializer = null;\n    var openDatabase = this.openDatabase;\n\n    // If WebSQL methods aren't available, we can stop now.\n    if (!openDatabase) {\n        return;\n    }\n\n    var ModuleType = {\n        DEFINE: 1,\n        EXPORT: 2,\n        WINDOW: 3\n    };\n\n    // Attaching to window (i.e. no module loader) is the assumed,\n    // simple default.\n    var moduleType = ModuleType.WINDOW;\n\n    // Find out what kind of module setup we have; if none, we'll just attach\n    // localForage to the main window.\n    if (typeof module !== 'undefined' && module.exports && typeof require !== 'undefined') {\n        moduleType = ModuleType.EXPORT;\n    } else if (typeof define === 'function' && define.amd) {\n        moduleType = ModuleType.DEFINE;\n    }\n\n    // Open the WebSQL database (automatically creates one if one didn't\n    // previously exist), using any options set in the config.\n    function _initStorage(options) {\n        var self = this;\n        var dbInfo = {\n            db: null\n        };\n\n        if (options) {\n            for (var i in options) {\n                dbInfo[i] = typeof(options[i]) !== 'string' ?\n                            options[i].toString() : options[i];\n            }\n        }\n\n        var serializerPromise = new Promise(function(resolve/*, reject*/) {\n            // We allow localForage to be declared as a module or as a\n            // library available without AMD/require.js.\n            if (moduleType === ModuleType.DEFINE) {\n                require(['localforageSerializer'], resolve);\n            } else if (moduleType === ModuleType.EXPORT) {\n                // Making it browserify friendly\n                resolve(require('./../utils/serializer'));\n            } else {\n                resolve(globalObject.localforageSerializer);\n            }\n        });\n\n        var dbInfoPromise = new Promise(function(resolve, reject) {\n            // Open the database; the openDatabase API will automatically\n            // create it for us if it doesn't exist.\n            try {\n                dbInfo.db = openDatabase(dbInfo.name, String(dbInfo.version),\n                                         dbInfo.description, dbInfo.size);\n            } catch (e) {\n                return self.setDriver(self.LOCALSTORAGE).then(function() {\n    return self._initStorage(options);\n}).then(resolve)[\"catch\"](reject);\n            }\n\n            // Create our key/value table if it doesn't exist.\n            dbInfo.db.transaction(function(t) {\n                t.executeSql('CREATE TABLE IF NOT EXISTS ' + dbInfo.storeName +\n                             ' (id INTEGER PRIMARY KEY, key unique, value)', [],\n                             function() {\n                    self._dbInfo = dbInfo;\n                    resolve();\n                }, function(t, error) {\n                    reject(error);\n                });\n            });\n        });\n\n        return serializerPromise.then(function(lib) {\n            serializer = lib;\n            return dbInfoPromise;\n        });\n    }\n\n    function getItem(key, callback) {\n        var self = this;\n\n        // Cast the key to a string, as that's all we can set as a key.\n        if (typeof key !== 'string') {\n            window.console.warn(key +\n                                ' used as a key, but it is not a string.');\n            key = String(key);\n        }\n\n        var promise = new Promise(function(resolve, reject) {\n            self.ready().then(function() {\n                var dbInfo = self._dbInfo;\n                dbInfo.db.transaction(function(t) {\n                    t.executeSql('SELECT * FROM ' + dbInfo.storeName +\n                                 ' WHERE key = ? LIMIT 1', [key],\n                                 function(t, results) {\n                        var result = results.rows.length ?\n                                     results.rows.item(0).value : null;\n\n                        // Check to see if this is serialized content we need to\n                        // unpack.\n                        if (result) {\n                            result = serializer.deserialize(result);\n                        }\n\n                        resolve(result);\n                    }, function(t, error) {\n\n                        reject(error);\n                    });\n                });\n            })[\"catch\"](reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    function iterate(iterator, callback) {\n        var self = this;\n\n        var promise = new Promise(function(resolve, reject) {\n            self.ready().then(function() {\n                var dbInfo = self._dbInfo;\n\n                dbInfo.db.transaction(function(t) {\n                    t.executeSql('SELECT * FROM ' + dbInfo.storeName, [],\n                        function(t, results) {\n                            var rows = results.rows;\n                            var length = rows.length;\n\n                            for (var i = 0; i < length; i++) {\n                                var item = rows.item(i);\n                                var result = item.value;\n\n                                // Check to see if this is serialized content\n                                // we need to unpack.\n                                if (result) {\n                                    result = serializer.deserialize(result);\n                                }\n\n                                result = iterator(result, item.key, i + 1);\n\n                                // void(0) prevents problems with redefinition\n                                // of `undefined`.\n                                if (result !== void(0)) {\n                                    resolve(result);\n                                    return;\n                                }\n                            }\n\n                            resolve();\n                        }, function(t, error) {\n                            reject(error);\n                        });\n                });\n            })[\"catch\"](reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    function setItem(key, value, callback) {\n        var self = this;\n\n        // Cast the key to a string, as that's all we can set as a key.\n        if (typeof key !== 'string') {\n            window.console.warn(key +\n                                ' used as a key, but it is not a string.');\n            key = String(key);\n        }\n\n        var promise = new Promise(function(resolve, reject) {\n            self.ready().then(function() {\n                // The localStorage API doesn't return undefined values in an\n                // \"expected\" way, so undefined is always cast to null in all\n                // drivers. See: https://github.com/mozilla/localForage/pull/42\n                if (value === undefined) {\n                    value = null;\n                }\n\n                // Save the original value to pass to the callback.\n                var originalValue = value;\n\n                serializer.serialize(value, function(value, error) {\n                    if (error) {\n                        reject(error);\n                    } else {\n                        var dbInfo = self._dbInfo;\n                        dbInfo.db.transaction(function(t) {\n                            t.executeSql('INSERT OR REPLACE INTO ' +\n                                         dbInfo.storeName +\n                                         ' (key, value) VALUES (?, ?)',\n                                         [key, value], function() {\n                                resolve(originalValue);\n                            }, function(t, error) {\n                                reject(error);\n                            });\n                        }, function(sqlError) {\n                            // The transaction failed; check\n                            // to see if it's a quota error.\n                            if (sqlError.code === sqlError.QUOTA_ERR) {\n                                // We reject the callback outright for now, but\n                                // it's worth trying to re-run the transaction.\n                                // Even if the user accepts the prompt to use\n                                // more storage on Safari, this error will\n                                // be called.\n                                //\n                                // TODO: Try to re-run the transaction.\n                                reject(sqlError);\n                            }\n                        });\n                    }\n                });\n            })[\"catch\"](reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    function removeItem(key, callback) {\n        var self = this;\n\n        // Cast the key to a string, as that's all we can set as a key.\n        if (typeof key !== 'string') {\n            window.console.warn(key +\n                                ' used as a key, but it is not a string.');\n            key = String(key);\n        }\n\n        var promise = new Promise(function(resolve, reject) {\n            self.ready().then(function() {\n                var dbInfo = self._dbInfo;\n                dbInfo.db.transaction(function(t) {\n                    t.executeSql('DELETE FROM ' + dbInfo.storeName +\n                                 ' WHERE key = ?', [key],\n                                 function() {\n                        resolve();\n                    }, function(t, error) {\n\n                        reject(error);\n                    });\n                });\n            })[\"catch\"](reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    // Deletes every item in the table.\n    // TODO: Find out if this resets the AUTO_INCREMENT number.\n    function clear(callback) {\n        var self = this;\n\n        var promise = new Promise(function(resolve, reject) {\n            self.ready().then(function() {\n                var dbInfo = self._dbInfo;\n                dbInfo.db.transaction(function(t) {\n                    t.executeSql('DELETE FROM ' + dbInfo.storeName, [],\n                                 function() {\n                        resolve();\n                    }, function(t, error) {\n                        reject(error);\n                    });\n                });\n            })[\"catch\"](reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    // Does a simple `COUNT(key)` to get the number of items stored in\n    // localForage.\n    function length(callback) {\n        var self = this;\n\n        var promise = new Promise(function(resolve, reject) {\n            self.ready().then(function() {\n                var dbInfo = self._dbInfo;\n                dbInfo.db.transaction(function(t) {\n                    // Ahhh, SQL makes this one soooooo easy.\n                    t.executeSql('SELECT COUNT(key) as c FROM ' +\n                                 dbInfo.storeName, [], function(t, results) {\n                        var result = results.rows.item(0).c;\n\n                        resolve(result);\n                    }, function(t, error) {\n\n                        reject(error);\n                    });\n                });\n            })[\"catch\"](reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    // Return the key located at key index X; essentially gets the key from a\n    // `WHERE id = ?`. This is the most efficient way I can think to implement\n    // this rarely-used (in my experience) part of the API, but it can seem\n    // inconsistent, because we do `INSERT OR REPLACE INTO` on `setItem()`, so\n    // the ID of each key will change every time it's updated. Perhaps a stored\n    // procedure for the `setItem()` SQL would solve this problem?\n    // TODO: Don't change ID on `setItem()`.\n    function key(n, callback) {\n        var self = this;\n\n        var promise = new Promise(function(resolve, reject) {\n            self.ready().then(function() {\n                var dbInfo = self._dbInfo;\n                dbInfo.db.transaction(function(t) {\n                    t.executeSql('SELECT key FROM ' + dbInfo.storeName +\n                                 ' WHERE id = ? LIMIT 1', [n + 1],\n                                 function(t, results) {\n                        var result = results.rows.length ?\n                                     results.rows.item(0).key : null;\n                        resolve(result);\n                    }, function(t, error) {\n                        reject(error);\n                    });\n                });\n            })[\"catch\"](reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    function keys(callback) {\n        var self = this;\n\n        var promise = new Promise(function(resolve, reject) {\n            self.ready().then(function() {\n                var dbInfo = self._dbInfo;\n                dbInfo.db.transaction(function(t) {\n                    t.executeSql('SELECT key FROM ' + dbInfo.storeName, [],\n                                 function(t, results) {\n                        var keys = [];\n\n                        for (var i = 0; i < results.rows.length; i++) {\n                            keys.push(results.rows.item(i).key);\n                        }\n\n                        resolve(keys);\n                    }, function(t, error) {\n\n                        reject(error);\n                    });\n                });\n            })[\"catch\"](reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    function executeCallback(promise, callback) {\n        if (callback) {\n            promise.then(function(result) {\n                callback(null, result);\n            }, function(error) {\n                callback(error);\n            });\n        }\n    }\n\n    var webSQLStorage = {\n        _driver: 'webSQLStorage',\n        _initStorage: _initStorage,\n        iterate: iterate,\n        getItem: getItem,\n        setItem: setItem,\n        removeItem: removeItem,\n        clear: clear,\n        length: length,\n        key: key,\n        keys: keys\n    };\n\n    if (moduleType === ModuleType.DEFINE) {\n        define('webSQLStorage', function() {\n            return webSQLStorage;\n        });\n    } else if (moduleType === ModuleType.EXPORT) {\n        module.exports = webSQLStorage;\n    } else {\n        this.webSQLStorage = webSQLStorage;\n    }\n}).call(window);\n(function() {\n    'use strict';\n\n    // Promises!\n    var Promise = (typeof module !== 'undefined' && module.exports && typeof require !== 'undefined') ?\n                  require('promise') : this.Promise;\n\n    // Custom drivers are stored here when `defineDriver()` is called.\n    // They are shared across all instances of localForage.\n    var CustomDrivers = {};\n\n    var DriverType = {\n        INDEXEDDB: 'asyncStorage',\n        LOCALSTORAGE: 'localStorageWrapper',\n        WEBSQL: 'webSQLStorage'\n    };\n\n    var DefaultDriverOrder = [\n        DriverType.INDEXEDDB,\n        DriverType.WEBSQL,\n        DriverType.LOCALSTORAGE\n    ];\n\n    var LibraryMethods = [\n        'clear',\n        'getItem',\n        'iterate',\n        'key',\n        'keys',\n        'length',\n        'removeItem',\n        'setItem'\n    ];\n\n    var ModuleType = {\n        DEFINE: 1,\n        EXPORT: 2,\n        WINDOW: 3\n    };\n\n    var DefaultConfig = {\n        description: '',\n        driver: DefaultDriverOrder.slice(),\n        name: 'localforage',\n        // Default DB size is _JUST UNDER_ 5MB, as it's the highest size\n        // we can use without a prompt.\n        size: 4980736,\n        storeName: 'keyvaluepairs',\n        version: 1.0\n    };\n\n    // Attaching to window (i.e. no module loader) is the assumed,\n    // simple default.\n    var moduleType = ModuleType.WINDOW;\n\n    // Find out what kind of module setup we have; if none, we'll just attach\n    // localForage to the main window.\n    if (typeof module !== 'undefined' && module.exports && typeof require !== 'undefined') {\n        moduleType = ModuleType.EXPORT;\n    } else if (typeof define === 'function' && define.amd) {\n        moduleType = ModuleType.DEFINE;\n    }\n\n    // Check to see if IndexedDB is available and if it is the latest\n    // implementation; it's our preferred backend library. We use \"_spec_test\"\n    // as the name of the database because it's not the one we'll operate on,\n    // but it's useful to make sure its using the right spec.\n    // See: https://github.com/mozilla/localForage/issues/128\n    var driverSupport = (function(self) {\n        // Initialize IndexedDB; fall back to vendor-prefixed versions\n        // if needed.\n        var indexedDB = indexedDB || self.indexedDB || self.webkitIndexedDB ||\n                        self.mozIndexedDB || self.OIndexedDB ||\n                        self.msIndexedDB;\n\n        var result = {};\n\n        result[DriverType.WEBSQL] = !!self.openDatabase;\n        result[DriverType.INDEXEDDB] = !!(function() {\n            // We mimic PouchDB here; just UA test for Safari (which, as of\n            // iOS 8/Yosemite, doesn't properly support IndexedDB).\n            // IndexedDB support is broken and different from Blink's.\n            // This is faster than the test case (and it's sync), so we just\n            // do this. *SIGH*\n            // http://bl.ocks.org/nolanlawson/raw/c83e9039edf2278047e9/\n            //\n            // We test for openDatabase because IE Mobile identifies itself\n            // as Safari. Oh the lulz...\n            if (typeof self.openDatabase !== 'undefined' && self.navigator &&\n                self.navigator.userAgent &&\n                /Safari/.test(self.navigator.userAgent) &&\n                !/Chrome/.test(self.navigator.userAgent)) {\n                return false;\n            }\n            try {\n                return indexedDB &&\n                       typeof indexedDB.open === 'function' &&\n                       // Some Samsung/HTC Android 4.0-4.3 devices\n                       // have older IndexedDB specs; if this isn't available\n                       // their IndexedDB is too old for us to use.\n                       // (Replaces the onupgradeneeded test.)\n                       typeof self.IDBKeyRange !== 'undefined';\n            } catch (e) {\n                return false;\n            }\n        })();\n\n        result[DriverType.LOCALSTORAGE] = !!(function() {\n            try {\n                return (self.localStorage &&\n                        ('setItem' in self.localStorage) &&\n                        (self.localStorage.setItem));\n            } catch (e) {\n                return false;\n            }\n        })();\n\n        return result;\n    })(this);\n\n    var isArray = Array.isArray || function(arg) {\n        return Object.prototype.toString.call(arg) === '[object Array]';\n    };\n\n    function callWhenReady(localForageInstance, libraryMethod) {\n        localForageInstance[libraryMethod] = function() {\n            var _args = arguments;\n            return localForageInstance.ready().then(function() {\n                return localForageInstance[libraryMethod].apply(localForageInstance, _args);\n            });\n        };\n    }\n\n    function extend() {\n        for (var i = 1; i < arguments.length; i++) {\n            var arg = arguments[i];\n\n            if (arg) {\n                for (var key in arg) {\n                    if (arg.hasOwnProperty(key)) {\n                        if (isArray(arg[key])) {\n                            arguments[0][key] = arg[key].slice();\n                        } else {\n                            arguments[0][key] = arg[key];\n                        }\n                    }\n                }\n            }\n        }\n\n        return arguments[0];\n    }\n\n    function isLibraryDriver(driverName) {\n        for (var driver in DriverType) {\n            if (DriverType.hasOwnProperty(driver) &&\n                DriverType[driver] === driverName) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    var globalObject = this;\n\n    function LocalForage(options) {\n        this._config = extend({}, DefaultConfig, options);\n        this._driverSet = null;\n        this._ready = false;\n        this._dbInfo = null;\n\n        // Add a stub for each driver API method that delays the call to the\n        // corresponding driver method until localForage is ready. These stubs\n        // will be replaced by the driver methods as soon as the driver is\n        // loaded, so there is no performance impact.\n        for (var i = 0; i < LibraryMethods.length; i++) {\n            callWhenReady(this, LibraryMethods[i]);\n        }\n\n        this.setDriver(this._config.driver);\n    }\n\n    LocalForage.prototype.INDEXEDDB = DriverType.INDEXEDDB;\n    LocalForage.prototype.LOCALSTORAGE = DriverType.LOCALSTORAGE;\n    LocalForage.prototype.WEBSQL = DriverType.WEBSQL;\n\n    // Set any config values for localForage; can be called anytime before\n    // the first API call (e.g. `getItem`, `setItem`).\n    // We loop through options so we don't overwrite existing config\n    // values.\n    LocalForage.prototype.config = function(options) {\n        // If the options argument is an object, we use it to set values.\n        // Otherwise, we return either a specified config value or all\n        // config values.\n        if (typeof(options) === 'object') {\n            // If localforage is ready and fully initialized, we can't set\n            // any new configuration values. Instead, we return an error.\n            if (this._ready) {\n                return new Error(\"Can't call config() after localforage \" +\n                                 'has been used.');\n            }\n\n            for (var i in options) {\n                if (i === 'storeName') {\n                    options[i] = options[i].replace(/\\W/g, '_');\n                }\n\n                this._config[i] = options[i];\n            }\n\n            // after all config options are set and\n            // the driver option is used, try setting it\n            if ('driver' in options && options.driver) {\n                this.setDriver(this._config.driver);\n            }\n\n            return true;\n        } else if (typeof(options) === 'string') {\n            return this._config[options];\n        } else {\n            return this._config;\n        }\n    };\n\n    // Used to define a custom driver, shared across all instances of\n    // localForage.\n    LocalForage.prototype.defineDriver = function(driverObject, callback,\n                                                  errorCallback) {\n        var defineDriver = new Promise(function(resolve, reject) {\n            try {\n                var driverName = driverObject._driver;\n                var complianceError = new Error(\n                    'Custom driver not compliant; see ' +\n                    'https://mozilla.github.io/localForage/#definedriver'\n                );\n                var namingError = new Error(\n                    'Custom driver name already in use: ' + driverObject._driver\n                );\n\n                // A driver name should be defined and not overlap with the\n                // library-defined, default drivers.\n                if (!driverObject._driver) {\n                    reject(complianceError);\n                    return;\n                }\n                if (isLibraryDriver(driverObject._driver)) {\n                    reject(namingError);\n                    return;\n                }\n\n                var customDriverMethods = LibraryMethods.concat('_initStorage');\n                for (var i = 0; i < customDriverMethods.length; i++) {\n                    var customDriverMethod = customDriverMethods[i];\n                    if (!customDriverMethod ||\n                        !driverObject[customDriverMethod] ||\n                        typeof driverObject[customDriverMethod] !== 'function') {\n                        reject(complianceError);\n                        return;\n                    }\n                }\n\n                var supportPromise = Promise.resolve(true);\n                if ('_support'  in driverObject) {\n                    if (driverObject._support && typeof driverObject._support === 'function') {\n                        supportPromise = driverObject._support();\n                    } else {\n                        supportPromise = Promise.resolve(!!driverObject._support);\n                    }\n                }\n\n                supportPromise.then(function(supportResult) {\n                    driverSupport[driverName] = supportResult;\n                    CustomDrivers[driverName] = driverObject;\n                    resolve();\n                }, reject);\n            } catch (e) {\n                reject(e);\n            }\n        });\n\n        defineDriver.then(callback, errorCallback);\n        return defineDriver;\n    };\n\n    LocalForage.prototype.driver = function() {\n        return this._driver || null;\n    };\n\n    LocalForage.prototype.ready = function(callback) {\n        var self = this;\n\n        var ready = new Promise(function(resolve, reject) {\n            self._driverSet.then(function() {\n                if (self._ready === null) {\n                    self._ready = self._initStorage(self._config);\n                }\n\n                self._ready.then(resolve, reject);\n            })[\"catch\"](reject);\n        });\n\n        ready.then(callback, callback);\n        return ready;\n    };\n\n    LocalForage.prototype.setDriver = function(drivers, callback,\n                                               errorCallback) {\n        var self = this;\n\n        if (typeof drivers === 'string') {\n            drivers = [drivers];\n        }\n\n        this._driverSet = new Promise(function(resolve, reject) {\n            var driverName = self._getFirstSupportedDriver(drivers);\n            var error = new Error('No available storage method found.');\n\n            if (!driverName) {\n                self._driverSet = Promise.reject(error);\n                reject(error);\n                return;\n            }\n\n            self._dbInfo = null;\n            self._ready = null;\n\n            if (isLibraryDriver(driverName)) {\n                var driverPromise = new Promise(function(resolve/*, reject*/) {\n                    // We allow localForage to be declared as a module or as a\n                    // library available without AMD/require.js.\n                    if (moduleType === ModuleType.DEFINE) {\n                        require([driverName], resolve);\n                    } else if (moduleType === ModuleType.EXPORT) {\n                        // Making it browserify friendly\n                        switch (driverName) {\n                            case self.INDEXEDDB:\n                                resolve(require('./drivers/indexeddb'));\n                                break;\n                            case self.LOCALSTORAGE:\n                                resolve(require('./drivers/localstorage'));\n                                break;\n                            case self.WEBSQL:\n                                resolve(require('./drivers/websql'));\n                                break;\n                        }\n                    } else {\n                        resolve(globalObject[driverName]);\n                    }\n                });\n                driverPromise.then(function(driver) {\n                    self._extend(driver);\n                    resolve();\n                });\n            } else if (CustomDrivers[driverName]) {\n                self._extend(CustomDrivers[driverName]);\n                resolve();\n            } else {\n                self._driverSet = Promise.reject(error);\n                reject(error);\n            }\n        });\n\n        function setDriverToConfig() {\n            self._config.driver = self.driver();\n        }\n        this._driverSet.then(setDriverToConfig, setDriverToConfig);\n\n        this._driverSet.then(callback, errorCallback);\n        return this._driverSet;\n    };\n\n    LocalForage.prototype.supports = function(driverName) {\n        return !!driverSupport[driverName];\n    };\n\n    LocalForage.prototype._extend = function(libraryMethodsAndProperties) {\n        extend(this, libraryMethodsAndProperties);\n    };\n\n    // Used to determine which driver we should use as the backend for this\n    // instance of localForage.\n    LocalForage.prototype._getFirstSupportedDriver = function(drivers) {\n        if (drivers && isArray(drivers)) {\n            for (var i = 0; i < drivers.length; i++) {\n                var driver = drivers[i];\n\n                if (this.supports(driver)) {\n                    return driver;\n                }\n            }\n        }\n\n        return null;\n    };\n\n    LocalForage.prototype.createInstance = function(options) {\n        return new LocalForage(options);\n    };\n\n    // The actual localForage object that we expose as a module or via a\n    // global. It's extended by pulling in one of our other libraries.\n    var localForage = new LocalForage();\n\n    // We allow localForage to be declared as a module or as a library\n    // available without AMD/require.js.\n    if (moduleType === ModuleType.DEFINE) {\n        define('localforage', function() {\n            return localForage;\n        });\n    } else if (moduleType === ModuleType.EXPORT) {\n        module.exports = localForage;\n    } else {\n        this.localforage = localForage;\n    }\n}).call(window);\n"]}